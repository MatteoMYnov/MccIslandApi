const modalData = {
    "2011": {
        "name": "Minecon 2011",
        "date": "Obtenue le 7 avril 2011, à Las Vegas, aux États-Unis",
        "description": "Cette cape a été remise aux participants de la Minecon 2011. Elle était attribuée en fonction de leur pseudonyme, marquant la première et dernière fois que cette méthode a été utilisée."
    },
    "2012": {
        "name": "Minecon 2012",
        "date": "Obtenue le 18 juillet 2012, à Disneyland Paris, en France",
        "description": "Cette cape a été remise aux participants de la Minecon 2012. Les joueurs recevaient un code par e-mail qu'ils devaient entrer sur le site minecraft.net pour récupérer leur récompense."
    },
    "2013": {
        "name": "Minecon 2013",
        "date": "Obtenue le 1er juillet 2013, à Orlando, en Floride",
        "description": "Cette cape a été remise aux participants de la Minecon 2013. Les joueurs recevaient un code par e-mail qu'ils devaient entrer sur le site minecraft.net pour récupérer leur récompense."
    },
    "2015": {
        "name": "Minecon 2015",
        "date": "Obtenue les 4 et 5 juillet 2015, à Londres, au Royaume-Uni",
        "description": "Cette cape a été remise aux participants de la Minecon 2015. Les joueurs recevaient un code par e-mail uniquement après avoir scanné leur billet sur place, qu'ils devaient ensuite entrer sur le site minecraft.net pour récupérer leur récompense."
    },
    "2016": {
        "name": "Minecon 2016",
        "date": "Obtenue les 24 et 25 septembre 2016, à Anaheim, aux États-Unis",
        "description": "Cette cape a été remise aux participants de la Minecon 2016. Les joueurs recevaient un code par e-mail uniquement après avoir scanné leur billet sur place, qu'ils devaient ensuite entrer sur le site minecraft.net pour récupérer leur récompense."
    },
    "mojangold": {
        "name": "Mojang Cape (classique)",
        "date": "Obtenue du 20 décembre 2010 au 7 octobre 2015",
        "description": "Cette cape a été remise aux employés de Mojang Studios entre ces deux dates."
    },
    "mojang": {
        "name": "Mojang Cape",
        "date": "Obtenue du 7 octobre 2015 au 26 juillet 2021",
        "description": "Cette cape a été attribuée aux employés de Mojang Studios entre ces deux dates. Sa couleur a été modifiée pour mieux correspondre à la nouvelle identité visuelle de Mojang Studios."
    },
    "mojangstudios": {
        "name": "Mojang Studios Cape",
        "date": "Obtenue depuis le 26 juillet 2021",
        "description": "Cette cape a été attribuée aux employés de Mojang Studios depuis le rebranding du logo réalisé par Johan Aronson."
    },
    "migrator_cape": {
        "name": "Migrator Cape",
        "date": "Obtenue le 9 juillet 2021",
        "description": "Cette cape a été attribuée aux joueurs possédant un compte avant le 1er décembre 2020 et ayant migré leur compte Mojang vers un compte Microsoft."
    },
    "vanilla_cape": {
        "name": "Vanilla Cape",
        "date": "Obtenue le 31 août 2022",
        "description": "Cette cape a été attribuée aux joueurs ayant acheté Minecraft Java Edition et Minecraft Bedrock Edition avant le 6 juin 2022, en utilisant la même adresse e-mail, avant la fusion des deux éditions."
    },
    "15A": {
        "name": "15th Anniversary Cape",
        "date": "Obtenue du 17 mai 2024 au 21 juin 2024",
        "description": "Cette cape a été offerte aux joueurs qui ont cliqué sur un bouton sur la page de l'anniversaire des 15 ans sur minecraft.net entre le 17 mai 2024 et le 21 juin 2024. Le point de terminaison de l'API permettait aux joueurs de l'échanger après le 21 juin, ce qui a été corrigé quatre jours plus tard."
    },
    "tiktok": {
        "name": "Follower's Cape",
        "date": "Obtenue du 17 mai 2024 au 18 juin 2024",
        "description": "Cette cape a été offerte aux joueurs qui ont échangé le code lors de l'événement du 15e anniversaire de Minecraft. Les utilisateurs pouvaient débloquer un code échangeable pour la cape en regardant un livestream Minecraft sur TikTok. En fonction de la région de l'utilisateur, des conditions supplémentaires étaient imposées."
    },
    "twitch": {
        "name": "Purple Heart Cape",
        "date": "Obtenue du 15 mai 2024 au 31 mai 2024",
        "description": "Cette cape a été offerte aux joueurs qui ont échangé le code lors de l'événement du 15e anniversaire de Minecraft. Les utilisateurs pouvaient débloquer un code Twitch Drop pour la cape en regardant n'importe quel streamer Minecraft avec les Drops activés pendant au moins 15 minutes."
    },
    "cherry": {
        "name": "Cherry Blossom Cape",
        "date": "Obtenue le 12 octobre 2023",
        "description": "Cette cape a été offerte à tous ceux qui ont rejoint le serveur de l'événement Mob Vote 2023 ou qui ont voté depuis le launcher Minecraft."
    },
    "mcc": {
        "name": "MCC 15th Year Cape",
        "date": "Obtenue le 5 août 2024",
        "description": "Cette cape a été remise aux joueurs qui ont relevé les 15 défis du serveur de l'événement des mini-jeux de MCChampionship. L'événement a débuté le 22 juillet 2024 et s'est terminé le 5 août 2024."
    },
    "mojangoffice": {
        "name": "Mojang Office Cape",
        "date": "Obtenue le 7 décembre 2024",
        "description": "Cette cape a été attribuée aux joueurs ayant acheté une cape Creeper dans la boutique officielle de Minecraft. Un code pour la cape exclusive Eyeblossom était inclus."
    },
    "mcexp": {
        "name":"MC Experience Cape",
        "date":"Obtenue le 23 octobre 2024",
        "description":"Cette cape a été remise aux joueurs qui ont participé à l'événement interactif Minecraft Experience : Villager Rescue. Un code pour la cape a été envoyé après validation des billets."
    },
    "realms": {
        "name": "Realms MapMaker Cape",
        "date": "Obtenue depuis le 14 décembre 2015",
        "description": "Cette cape est attribuée aux MapMakers du programme de création de contenu de Java Realms. Elle est décernée à ceux ayant satisfait aux critères spécifiés sur le site Atlas."
    },
    "translator": {
        "name": "Translator Cape",
        "date": "Obtenue le 16 mai 2012",
        "description": "Cette cape est remise à certains traducteurs expérimentés ayant des permissions de modération pour leur langue sur le projet de traduction de Minecraft sur Crowdin."
    },
    "mojira": {
        "name": "Mojira Moderator Cape",
        "date": "Obtenue le 25 décembre 2014",
        "description": "Cette cape est remise aux modérateurs sur le bug tracker de Mojira."
    },
    "cobalt": {
        "name": "Cobalt Cape",
        "date": "Obtenue en 2016",
        "description": "Cette cape a été remise à certains participants/gagnants de concours de création de niveaux et de tournois de la Ligue Cobalt."
    },
    "scrolls": {
        "name": "Scrolls Champion Cape",
        "date":"Obtenue les 4 et 5 juillet 2015",
        "description": "Cette cape a été remise aux joueurs qui ont obtenu le badge de gagnant de la première place hebdomadaire cinq fois dans Scrolls."
    },
    "translatorchinese": {
        "name": "Translator Cape (Chinese)",
        "date": "Obtenue le 4 juin 2015",
        "description": "Remise à Powup333, Craft_Lawrence et sjjklh pour leur contribution au projet de traduction de Minecraft en chinois."
    },
    "turtle": {
        "name": "Turtle Cape",
        "date": "Obtenue le 14 février 2018",
        "description": "La cape a été remise à billyK_ pour avoir suggéré d'ajouter des tortues au jeu."
    },
    "valentine": {
        "name": "Valentine Cape",
        "date": "Obtenue le 13 août 2022",
        "description": "Offerte à LolFoxy2 par un employé de Mojang Studios après avoir résolu des problèmes de migration avec son compte Mojang."
    },
    "birthday": {
        "name": "Birthday Cape",
        "date": "Obtenue le 20 septembre 2021",
        "description": "Édition spéciale pour l'anniversaire du joueur. Offerte à 14 personnes chaque année jusqu'à 2024."
    },
    "dB": {
        "name": "dannyBstyle's Cape",
        "date": "14 décembre 2010",
        "description": "Cette cape a été offerte à DannyBstyle, un compositeur de musique de jeux vidéo, car Notch était fan de sa musique."
    },
    "millionth": {
        "name": "Millionth Customer Cape",
        "date": "Obtention: 20 janvier 2011",
        "description": "Cette cape a été offerte à akronman1, l'heureux acquéreur de la 1 000 000e copie de Minecraft. La cape a été désigné par Kinten. apres cela il fut piraté par simswap son adresse mail et perdit le compte."
    },
    "prismarine": {
        "name": "Prismarine Cape",
        "date": "Obtention: 22 juillet 2015",
        "description": "Cette cape a été offerte à Drullkus pour avoir recréé le bloc Prismarine pour l'utiliser dans dans Minecraft plutôt que dans son mod Chisel, Jeb avait fait fabriquer cette cape avant de contacter Drullkus mais elle n'avait pas de propriétaire, avant que cette cape ne soit donnée, un employé de Mojang, KrisJelbring l'avait sur son compte mais elle a été supprimée plus tard."
    },
    "snowman": {
        "name": "JulianClark's Cape",
        "date": "Obtention: 25 décembre 2010",
        "description": "Cette cape a été offerte à JulianClark pour avoir présenté à Notch, le présentateur de télévision et acteur, Ray Cokes."
    },
    "spade": {
        "name": "Spade Cape",
        "date": "Obtention: 14 juillet 2011",
        "description": "Cette cape a été offerte à MrMessiah en guise de « remerciement » pour la création du mod BetterLight, responsable de certaines fonctionnalités d'éclairage et d'herbe de Minecraft, la cape a été évoquée en 2011, mais elle n'a été accordée qu'en 2015."
    },
    "sniffer": {
        "name": "Test Cape",
        "date": "Obtention: 10 octobre 2023",
        "description": "Cette cape a été mise sur le compte de etanaratsastaja, un employé de Mojang, lors d'un test sur l'API de Mojang. Le design est similaire à celui d'un Sniffer. Il a été téléchargé sur le serveur de textures de Mojang le 10 octobre 2023 et sur le serveur de production de textures de Mojang 7 jours plus tard, le 17 octobre 2023. La cape a été vue pour la première fois sur 2 comptes dans la base de données du serveur de préparation de Mojang." 
    },
    "translatorjapanese": {
        "name": "Translator Cape (Japanese)",
        "date": "Obtention: 19 octobre 2013",
        "description": "Cette cape a été offerte à cheapsh0t en octobre 2013 pour avoir aidé l'équipe de Mojang à Tokyo. La cape est identique à la cape du traducteur à l'exception du drapeau japonais sur le dessous de la cape."
    },
    "bacon": {
        "name": "Bacon Cape",
        "date": "Obtention: 2010",
        "description": "Offerte à Miclee par Notch pour son idée d'ajouter le Pigmen. La cape a été faite par Miclee lui-même. La cape a cependant été révoquée en raison d'un grand afflux de joueurs demandant à Notch leurs propres capes sur le jeu."
    },
    "mojang-employee": {
        "name": "Mojang Employee Badge",
        "date": "",
        "description": "Ce Badge est attribué à tous les employés de mojang possédant une cape de l'équipe sur leur compte."
    },
    "perfect-mojang-employee": {
        "name": "Perfect Mojang Employee Badge",
        "date": "",
        "description": "Ce Badge est attribué à tous les employés de mojang possédant toutes cape de l'équipe sur leur compte. Et qui sont donc la depuis le tout début du jeu, et qui travaillent toujours pour Mojang."
    },
    "unusual-squad": {
        "name": "UnusualSquad Badge",
        "date": "",
        "description": "Ce Badge est attribué à tous les membres de L'Unusual Squad."
    },
    "website-dev": {
        "name": "Website Developer Badge",
        "date": "",
        "description": "Ce Badge est attribué à Leroidesafk pour avoir fait le site web."
    },
    "all-events": {
        "name": "All Events Badge",
        "date": "",
        "description": "Ce Badge est attribué à tous les joueurs ayant toutes les capes des évenements en jeu."
    },
    "all-commons": {
        "name": "All Commons Badge",
        "date": "",
        "description": "Ce Badge est attribué à tous les joueurs ayant toutes les capes communes du jeu."
    },
    "all-minecons":{
        "name": "All Minecons Badge",
        "date": "",
        "description": "Ce Badges est attribué à tous les joueurs ayant toutes les capes Minecons du jeu."
    },
    "muscles": {
        "name": "Muscles Badge",
        "date": "",
        "description": "Ce Badge est attribué à Taizeur, pour avoir de très gros bras et être un pompier modèle"
    },
    "gift-by-mojang": {
        "name": "Gift By Mojang Badge",
        "date": "",
        "description": "Ce Badge est attribué à tous les joueurs ayant eu un cadeau spécial de la part de moajng sur le compte."
    },
    "unique-cape": {
        "name": "Unique Cape",
        "date": "",
        "description": "Ce Badge est attribué à tous les joueurs ayant eu une cape à un seul exemplaire."
    }
};

// Fonction pour ouvrir le modal et afficher l'image cliquée
function openModal(event) {
    const modal = document.getElementById("myModal");
    const modalImage = document.querySelector(".modal-image");
    const modalName = document.querySelector(".modal-name");
    const modalDate = document.querySelector(".modal-date");
    const modalDesc = document.querySelector(".modal-desc");
    const clickedImage = event.target;

    // Récupérer l'ID (title) de l'image cliquée
    const imageTitle = clickedImage.getAttribute("title");

    // Si les informations sont présentes dans le JSON, les insérer dans le modal
    if (modalData[imageTitle]) {
        modalName.textContent = modalData[imageTitle].name;
        modalDate.textContent = modalData[imageTitle].date;
        modalDesc.textContent = modalData[imageTitle].description;
    } else {
        modalName.textContent = "Nom non trouvé";
        modalDate.textContent = "Date non trouvée";
        modalDesc.textContent = "Description non disponible";
    }

    // Mettre l'image cliquée dans le modal
    modalImage.src = clickedImage.src;

    // Afficher le modal
    modal.style.display = "flex";
    
    // Désactiver le scroll de l'arrière-plan
    document.body.classList.add('modal-open');
}

// Fonction pour fermer le modal
function closeModal() {
    const modal = document.getElementById("myModal");
    modal.style.display = "none";  // Masquer le modal
    
    // Réactiver le scroll de l'arrière-plan
    document.body.classList.remove('modal-open');
}

// Ouvrir le modal lorsque l'on clique sur une image avec un data-id contenant "using-modal"
const modalTriggers = document.querySelectorAll('[data-id*="using-modal"]');
modalTriggers.forEach(trigger => {
    trigger.addEventListener('click', openModal);
});

// Fermer le modal si l'on clique en dehors de la fenêtre du modal
const modal = document.getElementById("myModal");
modal.addEventListener('click', (event) => {
    if (event.target === modal) {
        closeModal();
    }
});
